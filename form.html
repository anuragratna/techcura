<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inquiry Form | Techcura</title>
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https:; style-src 'self' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; form-action 'self' https://formspree.io;">
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/png" href="assets/images/t_logo.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/style.css?v=5">
</head>

<body class="form-page">
    <!-- Header -->
    <header class="scrolled">
        <div class="container">
            <nav>
                <div class="brand-wrapper">
                    <a href="/index.html" class="brand">
                        <img src="assets/images/t_logo.png" alt="Techcura Logo" class="logo-img">
                        <span>Techcura</span>
                    </a>
                    <p class="brand-tagline">Your Complete IT Partner.</p>
                </div>
                <div class="nav-links standalone">
                    <a href="/index.html" class="back-link">&larr; Back to Home</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Form Section -->
    <main style="padding-top: 120px; padding-bottom: 80px;">
        <div class="container">
            <div class="form-card">
                <h1>Inquiry Form</h1>
                <p>Fill out the form and our team will get back to you soon.</p>
                <form action="https://formspree.io/f/movwnlvr" method="POST" id="contactForm">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" placeholder="Your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact">Contact Number</label>
                        <input type="tel" id="contact" name="contact-number" placeholder="+31 000 000 000" required
                            pattern="[0-9\-\+\s]+">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="email@company.com" required>
                    </div>
                    <div class="form-group">
                        <label for="company">Company Name</label>
                        <input type="text" id="company" name="company" placeholder="Business Name" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message (Optional)</label>
                        <textarea id="message" name="message" rows="4" placeholder="How can we help you?"></textarea>
                    </div>
                    <button type="submit" class="cta-button">Submit Inquiry</button>
                </form>
                <div id="successMsg">Thank you! Your submission has been received.</div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p>Â© 2026 Techcura. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const contactForm = document.getElementById('contactForm');
        const successMsg = document.getElementById('successMsg');

        if (contactForm) {
            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(contactForm);
                const submitButton = contactForm.querySelector('button[type="submit"]');

                // Show loading state
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';

                try {
                    const response = await fetch(contactForm.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    if (response.ok) {
                        // Success
                        contactForm.style.display = 'none';
                        successMsg.style.display = 'block';

                        // Wait 3 seconds then redirect
                        setTimeout(() => {
                            window.location.href = '/index.html';
                        }, 3000);
                    } else {
                        // Error handling
                        const data = await response.json();
                        alert(data.errors ? data.errors.map(err => err.message).join(", ") : "Oops! There was a problem submitting your form");
                        submitButton.disabled = false;
                        submitButton.textContent = 'Submit Inquiry';
                    }
                } catch (error) {
                    alert("Oops! There was a problem submitting your form");
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit Inquiry';
                }
            });
        }

        // Keep the success parameter check for direct redirects if any
        if (window.location.search.includes('success=true')) {
            successMsg.style.display = 'block';
            if (contactForm) contactForm.style.display = 'none';
            setTimeout(() => {
                window.location.href = '/index.html';
            }, 3000);
        }
    </script>
</body>

</html>